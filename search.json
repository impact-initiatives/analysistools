[{"path":[]},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement yann.say@impact-initiatives.org. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 analysistools authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yann Say. Author, maintainer. Mehedi Khan. Author.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Say Y, Khan M (2024). analysistools: Tools perform analysis survey data collected ODK. R package version 0.0.0.901, https://impact-initiatives.github.io/analysistools/.","code":"@Manual{,   title = {analysistools: Tools to perform some analysis on survey data collected with ODK},   author = {Yann Say and Mehedi Khan},   year = {2024},   note = {R package version 0.0.0.901},   url = {https://impact-initiatives.github.io/analysistools/}, }"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"analysistools","dir":"","previous_headings":"","what":"Tools to perform some analysis on survey data collected with ODK","title":"Tools to perform some analysis on survey data collected with ODK","text":"goal analysistools provide tools analyse dataset collected ODK. main function create_analysis. create_analysis_* fuctions take survey design object input return long result table analysis key. analysis key unique identifier analysis. format following: analysis type @/@ analysis variable %/% analysis variable value @/@ grouping variable %/% grouping variable value analysis type @/@ dependent variable %/% dependent variable value @/@ independent variable %/% independent variable value two grouping variables look like analysis type @/@ analysis variable %/% analysis variable value @/@ grouping variable 1 %/% grouping variable value 1 -/- grouping variable 2 %/% grouping variable value 2 3 types separators: @/@ separate top level information: analysis type, analysis (dependent) variable information grouping (independent) variable %/% separate analysis grouping information: separate variable name variable value -/- separate 2 variables case multiple variable either analysis grouping sets. current analysis types available : mean median prop_select_one: proportion select one prop_select_multiple: proportion select multiple ratio","code":""},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools to perform some analysis on survey data collected with ODK","text":"can install development version analysistools GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"impact-initiatives/analysistools\")"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Tools to perform some analysis on survey data collected with ODK","text":"","code":"library(analysistools)"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"how-to-add-weights","dir":"","previous_headings":"Example","what":"How to add weights","title":"Tools to perform some analysis on survey data collected with ODK","text":"","code":"shorter_df <- analysistools_MSNA_template_data[, c(   \"admin1\",   \"admin2\",   \"expenditure_debt\",   \"income_v1_salaried_work\",   \"wash_drinkingwatersource\",    grep(\"edu_learning_conditions_reasons_v1\", names(analysistools_MSNA_template_data), value = T)   )]  example_sample <- data.frame(   strata = c(\"admin1a\", \"admin1b\", \"admin1c\"),   population = c(30000, 50000, 80000) )  weighted_shorter_df <- shorter_df %>%   add_weights(example_sample,     strata_column_dataset = \"admin1\",     strata_column_sample = \"strata\",     population_column = \"population\"   )  weighted_shorter_df[, c(\"admin1\", \"weights\")] %>% head() #>    admin1  weights #> 1 admin1b 1.157407 #> 2 admin1c 1.190476 #> 3 admin1c 1.190476 #> 4 admin1c 1.190476 #> 5 admin1c 1.190476 #> 6 admin1c 1.190476"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"how-to-perform-a-descriptive-analysis-mean-median-proportions","dir":"","previous_headings":"Example","what":"How to perform a descriptive analysis (mean, median, proportions)","title":"Tools to perform some analysis on survey data collected with ODK","text":"create_analysis function needs survey design srvyr. design provided, perform mean, median proportions. return object 3 elements: - results table (long format analysis key), - dataset used, - list analysis performed.","code":"example_design <- srvyr::as_survey(weighted_shorter_df, strata = admin1, weights = weights) ex1_results <- create_analysis(design = example_design, sm_separator = \"/\") #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` names(ex1_results) #> [1] \"results_table\" \"dataset\"       \"loa\" ex1_results[[\"results_table\"]] %>% head() #> # A tibble: 6 × 13 #>   analysis_type  analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>          <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 prop_select_o… admin1       admin1a            <NA>      <NA>            0.188 #> 2 prop_select_o… admin1       admin1b            <NA>      <NA>            0.313 #> 3 prop_select_o… admin1       admin1c            <NA>      <NA>            0.5   #> 4 prop_select_o… admin2       admin2a            <NA>      <NA>            0.284 #> 5 prop_select_o… admin2       admin2b            <NA>      <NA>            0.385 #> 6 prop_select_o… admin2       admin2c            <NA>      <NA>            0.331 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <dbl>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> ex1_results[[\"loa\"]] %>% head() #>     analysis_type            analysis_var group_var level #> 1 prop_select_one                  admin1      <NA>  0.95 #> 2 prop_select_one                  admin2      <NA>  0.95 #> 3            mean        expenditure_debt      <NA>  0.95 #> 4          median        expenditure_debt      <NA>  0.95 #> 5            mean income_v1_salaried_work      <NA>  0.95 #> 6          median income_v1_salaried_work      <NA>  0.95"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"grouping-variables","dir":"","previous_headings":"Example > How to perform a descriptive analysis (mean, median, proportions)","what":"Grouping variables","title":"Tools to perform some analysis on survey data collected with ODK","text":"group_var can used defined different grouping, independent variables. example: - one variable two variables separately two variables combined","code":"ex2_results <- create_analysis(design = srvyr::as_survey(shorter_df), group_var = \"admin1\", sm_separator = \"/\") #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■ 47% | ETA: 1s #> Joining with `by = join_by(admin1, admin2)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■ 80% | ETA: 1s #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 93% | ETA: 0s ex2_results[[\"loa\"]] #>           analysis_type                       analysis_var group_var level #> 1       prop_select_one                             admin1      <NA>  0.95 #> 2       prop_select_one                             admin2      <NA>  0.95 #> 3                  mean                   expenditure_debt      <NA>  0.95 #> 4                median                   expenditure_debt      <NA>  0.95 #> 5                  mean            income_v1_salaried_work      <NA>  0.95 #> 6                median            income_v1_salaried_work      <NA>  0.95 #> 7       prop_select_one           wash_drinkingwatersource      <NA>  0.95 #> 8  prop_select_multiple edu_learning_conditions_reasons_v1      <NA>  0.95 #> 9       prop_select_one                             admin2    admin1  0.95 #> 10                 mean                   expenditure_debt    admin1  0.95 #> 11               median                   expenditure_debt    admin1  0.95 #> 12                 mean            income_v1_salaried_work    admin1  0.95 #> 13               median            income_v1_salaried_work    admin1  0.95 #> 14      prop_select_one           wash_drinkingwatersource    admin1  0.95 #> 15 prop_select_multiple edu_learning_conditions_reasons_v1    admin1  0.95 ex3_results <- create_analysis(design = srvyr::as_survey(shorter_df), group_var = c(\"admin1\", \"admin2\"), sm_separator = \"/\") #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> ■■■■■■■■■■■ 32% | ETA: 2s #> ■■■■■■■■■■■■ 36% | ETA: 2s #> Joining with `by = join_by(admin1, admin2)` #> ■■■■■■■■■■■■■ 41% | ETA: 2s #> ■■■■■■■■■■■■■■■ 45% | ETA: 2s #> ■■■■■■■■■■■■■■■■■ 55% | ETA: 2s #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■ 64% | ETA: 2s #> ■■■■■■■■■■■■■■■■■■■■■ 68% | ETA: 2s #> Joining with `by = join_by(admin2, admin1)` #> ■■■■■■■■■■■■■■■■■■■■■■■ 73% | ETA: 2s #> ■■■■■■■■■■■■■■■■■■■■■■■■ 77% | ETA: 1s #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■ 86% | ETA: 1s #> Joining with `by = join_by(admin2, wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 95% | ETA: 0s ex3_results[[\"loa\"]] #>           analysis_type                       analysis_var group_var level #> 1       prop_select_one                             admin1      <NA>  0.95 #> 2       prop_select_one                             admin2      <NA>  0.95 #> 3                  mean                   expenditure_debt      <NA>  0.95 #> 4                median                   expenditure_debt      <NA>  0.95 #> 5                  mean            income_v1_salaried_work      <NA>  0.95 #> 6                median            income_v1_salaried_work      <NA>  0.95 #> 7       prop_select_one           wash_drinkingwatersource      <NA>  0.95 #> 8  prop_select_multiple edu_learning_conditions_reasons_v1      <NA>  0.95 #> 9       prop_select_one                             admin2    admin1  0.95 #> 10                 mean                   expenditure_debt    admin1  0.95 #> 11               median                   expenditure_debt    admin1  0.95 #> 12                 mean            income_v1_salaried_work    admin1  0.95 #> 13               median            income_v1_salaried_work    admin1  0.95 #> 14      prop_select_one           wash_drinkingwatersource    admin1  0.95 #> 15 prop_select_multiple edu_learning_conditions_reasons_v1    admin1  0.95 #> 16      prop_select_one                             admin1    admin2  0.95 #> 17                 mean                   expenditure_debt    admin2  0.95 #> 18               median                   expenditure_debt    admin2  0.95 #> 19                 mean            income_v1_salaried_work    admin2  0.95 #> 20               median            income_v1_salaried_work    admin2  0.95 #> 21      prop_select_one           wash_drinkingwatersource    admin2  0.95 #> 22 prop_select_multiple edu_learning_conditions_reasons_v1    admin2  0.95 ex4_results <- create_analysis(design = srvyr::as_survey(shorter_df), group_var = \"admin1, admin2\", sm_separator = \"/\") #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■ 86% | ETA: 0s #> Joining with `by = join_by(admin1, admin2, wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 93% | ETA: 0s ex4_results[[\"loa\"]] #>           analysis_type                       analysis_var      group_var level #> 1       prop_select_one                             admin1           <NA>  0.95 #> 2       prop_select_one                             admin2           <NA>  0.95 #> 3                  mean                   expenditure_debt           <NA>  0.95 #> 4                median                   expenditure_debt           <NA>  0.95 #> 5                  mean            income_v1_salaried_work           <NA>  0.95 #> 6                median            income_v1_salaried_work           <NA>  0.95 #> 7       prop_select_one           wash_drinkingwatersource           <NA>  0.95 #> 8  prop_select_multiple edu_learning_conditions_reasons_v1           <NA>  0.95 #> 9                  mean                   expenditure_debt admin1, admin2  0.95 #> 10               median                   expenditure_debt admin1, admin2  0.95 #> 11                 mean            income_v1_salaried_work admin1, admin2  0.95 #> 12               median            income_v1_salaried_work admin1, admin2  0.95 #> 13      prop_select_one           wash_drinkingwatersource admin1, admin2  0.95 #> 14 prop_select_multiple edu_learning_conditions_reasons_v1 admin1, admin2  0.95"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"how-to-perform-a-descriptive-analysis-with-a-list-of-analysis","dir":"","previous_headings":"Example","what":"How to perform a descriptive analysis with a list of analysis","title":"Tools to perform some analysis on survey data collected with ODK","text":"","code":"ex5_results <- create_analysis(design = srvyr::as_survey(shorter_df), loa = analysistools_MSNA_template_loa, sm_separator = \"/\") #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■ 85% | ETA: 0s #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 92% | ETA: 0s ex5_results[[\"loa\"]] #>           analysis_type                       analysis_var group_var level #> 1       prop_select_one                             admin1      <NA>  0.95 #> 2                  mean            income_v1_salaried_work      <NA>  0.95 #> 3                median            income_v1_salaried_work      <NA>  0.95 #> 4                  mean                   expenditure_debt      <NA>  0.95 #> 5                median                   expenditure_debt      <NA>  0.95 #> 6       prop_select_one           wash_drinkingwatersource      <NA>  0.95 #> 7  prop_select_multiple edu_learning_conditions_reasons_v1      <NA>  0.95 #> 8                  mean            income_v1_salaried_work    admin1  0.95 #> 9                median            income_v1_salaried_work    admin1  0.95 #> 10                 mean                   expenditure_debt    admin1  0.95 #> 11               median                   expenditure_debt    admin1  0.95 #> 12      prop_select_one           wash_drinkingwatersource    admin1  0.95 #> 13 prop_select_multiple edu_learning_conditions_reasons_v1    admin1  0.95"},{"path":[]},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"mean","dir":"","previous_headings":"Example > How to perform specfic analysis","what":"Mean","title":"Tools to perform some analysis on survey data collected with ODK","text":"basic example shows calculate mean:","code":"somedata <- data.frame(   aa = 1:10,   bb = rep(c(\"a\", \"b\"), 5),   weights = rep(c(.5, 1.5), 5),   stratas = rep(c(\"strata_a\", \"strata_b\"), 5) ) me_design <- srvyr::as_survey(somedata) create_analysis_mean(me_design, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           <NA>               <NA>      <NA>              5.5 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_mean(me_design, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           <NA>               bb        a                   5 #> 2 mean          aa           <NA>               bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> me_design_w <- srvyr::as_survey(somedata, weights = weights) create_analysis_mean(me_design_w, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           <NA>               <NA>      <NA>             5.75 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_mean(me_design_w, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           <NA>               bb        a                   5 #> 2 mean          aa           <NA>               bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"median","dir":"","previous_headings":"Example > How to perform specfic analysis","what":"Median","title":"Tools to perform some analysis on survey data collected with ODK","text":"basic example shows calculate median:","code":"somedata <- data.frame(   aa = 1:10,   bb = rep(c(\"a\", \"b\"), 5),   weights = rep(c(.5, 1.5), 5),   stratas = rep(c(\"strata_a\", \"strata_b\"), 5) ) me_design <- srvyr::as_survey(somedata) create_analysis_median(me_design, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           <NA>               <NA>      <NA>                5 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_median(me_design, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           <NA>               bb        a                   5 #> 2 median        aa           <NA>               bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> me_design_w <- srvyr::as_survey(somedata, weights = weights) create_analysis_median(me_design_w, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           <NA>               <NA>      <NA>                6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_median(me_design_w, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           <NA>               bb        a                   5 #> 2 median        aa           <NA>               bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":[]},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"select-one","dir":"","previous_headings":"Example > How to perform specfic analysis > Proportion","what":"Select one","title":"Tools to perform some analysis on survey data collected with ODK","text":"basic example shows calculate proportion select one:","code":"somedata <- data.frame(   groups = sample(c(\"group_a\", \"group_b\"),     size = 100,     replace = TRUE   ),   value = sample(c(\"a\", \"b\", \"c\"),     size = 100, replace = TRUE,     prob = c(.6, .4, .1)   ) )  create_analysis_prop_select_one(srvyr::as_survey(somedata, strata = groups),   group_var = NA,   analysis_var = \"value\",   level = .95 ) #> Joining with `by = join_by(value)` #> # A tibble: 3 × 13 #>   analysis_type  analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>          <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 prop_select_o… value        a                  <NA>      <NA>             0.52 #> 2 prop_select_o… value        b                  <NA>      <NA>             0.38 #> 3 prop_select_o… value        c                  <NA>      <NA>             0.1  #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_prop_select_one(srvyr::as_survey(somedata, strata = groups),   group_var = \"groups\",   analysis_var = \"value\",   level = .95 ) #> Joining with `by = join_by(groups, value)` #> # A tibble: 6 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value   stat #>   <chr>         <chr>        <chr>              <chr>     <chr>            <dbl> #> 1 prop_select_… value        a                  groups    group_a         0.549  #> 2 prop_select_… value        b                  groups    group_a         0.373  #> 3 prop_select_… value        c                  groups    group_a         0.0784 #> 4 prop_select_… value        a                  groups    group_b         0.490  #> 5 prop_select_… value        b                  groups    group_b         0.388  #> 6 prop_select_… value        c                  groups    group_b         0.122  #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"select-multiple","dir":"","previous_headings":"Example > How to perform specfic analysis > Proportion","what":"Select multiple","title":"Tools to perform some analysis on survey data collected with ODK","text":"","code":"somedata <- data.frame(   groups = sample(c(\"group_a\", \"group_b\"), size = 100, replace = T),   smvar = rep(NA_character_, 100),   smvar.option1 = sample(c(TRUE, FALSE), size = 100, replace = T, prob = c(.7, .3)),   smvar.option2 = sample(c(TRUE, FALSE), size = 100, replace = T, prob = c(.6, .4)),   smvar.option3 = sample(c(TRUE, FALSE), size = 100, replace = T, prob = c(.1, .9)),   smvar.option4 = sample(c(TRUE, FALSE), size = 100, replace = T, prob = c(.8, .2)),   uuid = 1:100 %>% as.character() ) %>%   cleaningtools::recreate_parent_column(uuid = \"uuid\", sm_separator = \".\") #> groups #> smvar #> smvar.option1 #> smvar.option2 #> smvar.option3 #> smvar.option4 #> groups #> smvar.option1 #> smvar.option2 #> smvar.option3 #> smvar.option4 #> groups #> smvar #> smvar.option1 #> smvar.option2 #> smvar.option3 #> smvar.option4  somedata <- somedata$data_with_fix_concat create_analysis_prop_select_multiple(srvyr::as_survey(somedata),   group_var = NA,   analysis_var = \"smvar\",   level = 0.95 ) #> # A tibble: 5 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value   stat #>   <chr>         <chr>        <chr>              <chr>     <chr>            <dbl> #> 1 prop_select_… smvar        option1            <NA>      <NA>             0.694 #> 2 prop_select_… smvar        option2            <NA>      <NA>             0.622 #> 3 prop_select_… smvar        option3            <NA>      <NA>             0.143 #> 4 prop_select_… smvar        option4            <NA>      <NA>             0.806 #> 5 prop_select_… smvar        NA                 <NA>      <NA>            NA     #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <dbl>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>  create_analysis_prop_select_multiple(srvyr::as_survey(somedata),   group_var = \"groups\",   analysis_var = \"smvar\",   level = 0.95 ) #> # A tibble: 9 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value   stat #>   <chr>         <chr>        <chr>              <chr>     <chr>            <dbl> #> 1 prop_select_… smvar        option1            groups    group_a          0.76  #> 2 prop_select_… smvar        option2            groups    group_a          0.58  #> 3 prop_select_… smvar        option3            groups    group_a          0.04  #> 4 prop_select_… smvar        option4            groups    group_a          0.74  #> 5 prop_select_… smvar        option1            groups    group_b          0.625 #> 6 prop_select_… smvar        option2            groups    group_b          0.667 #> 7 prop_select_… smvar        option3            groups    group_b          0.25  #> 8 prop_select_… smvar        option4            groups    group_b          0.875 #> 9 prop_select_… smvar        NA                 groups    group_b         NA     #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <dbl>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"ratios","dir":"","previous_headings":"Example > How to perform specfic analysis","what":"Ratios","title":"Tools to perform some analysis on survey data collected with ODK","text":"basic example shows calculate ratio 2 numeric variables: Default value give ratio 0.2 1 child 5 attending school. hh3, NA present skip logic, child attending none enrolled. number household counted, n, equal 2, 2 households child. numerator_NA_to_0 set FALSE, ratio 1/3, hh3 2 children NA attending removed na.rm = T inside survey_ratio calculation. number household used calculation 1. filter_denominator_0 set FALSE, ratio 0.2 1 child 5 attending school. hh3, NA present skip logic, child attending none enrolled. number household counted, n, equal 3 instead 2. household 0 child counted n. weigths group:","code":"school_ex <- data.frame(   hh = c(\"hh1\", \"hh2\", \"hh3\", \"hh4\"),   num_children = c(3, 0, 2, NA),   num_enrolled = c(3, NA, 0, NA),   num_attending = c(1, NA, NA, NA),   group = c(\"a\", \"a\", \"b\", \"b\") ) me_design <- srvyr::as_survey(school_ex) create_analysis_ratio(me_design,   analysis_var_numerator = \"num_attending\",   analysis_var_denominator = \"num_children\" ) #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         num_attendin… NA %/% NA          <NA>      <NA>              0.2 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_ratio(me_design,   analysis_var_numerator = \"num_attending\",   analysis_var_denominator = \"num_children\",   numerator_NA_to_0 = FALSE ) #> Warning: There were 2 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `srvyr::survey_ratio(...)`. #> Caused by warning in `qt()`: #> ! NaNs produced #> ℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning. #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         num_attendin… NA %/% NA          <NA>      <NA>            0.333 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_ratio(me_design,   analysis_var_numerator = \"num_attending\",   analysis_var_denominator = \"num_children\",   numerator_NA_to_0 = FALSE ) #> Warning: There were 2 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `srvyr::survey_ratio(...)`. #> Caused by warning in `qt()`: #> ! NaNs produced #> ℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning. #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         num_attendin… NA %/% NA          <NA>      <NA>            0.333 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> set.seed(8988) somedata <- data.frame(   groups = rep(c(\"a\", \"b\"), 50),   children_518 = sample(0:5, 100, replace = TRUE),   children_enrolled = sample(0:5, 100, replace = TRUE) ) %>%   dplyr::mutate(children_enrolled = ifelse(children_enrolled > children_518,     children_518,     children_enrolled   )) somedata[[\"weights\"]] <- ifelse(somedata$groups == \"a\", 1.33, .67) create_analysis_ratio(srvyr::as_survey(somedata, weights = weights, strata = groups),   group_var = NA,   analysis_var_numerator = \"children_enrolled\",   analysis_var_denominator = \"children_518\",   level = 0.95 ) #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         children_enr… NA %/% NA          <NA>      <NA>            0.639 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_ratio(srvyr::as_survey(somedata, weights = weights, strata = groups),   group_var = \"groups\",   analysis_var_numerator = \"children_enrolled\",   analysis_var_denominator = \"children_518\",   level = 0.95 ) #> # A tibble: 2 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         children_enr… NA %/% NA          groups    a               0.670 #> 2 ratio         children_enr… NA %/% NA          groups    b               0.578 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"how-to-review-results","dir":"","previous_headings":"Example","what":"How to review results","title":"Tools to perform some analysis on survey data collected with ODK","text":"logic behind reviewing analysis compare results 2 independent analysis variables using review_analysis. example, results table review dataset loaded. list analysis results can reproduced create_loa_from_results analysis key. loa can used create new analysis compared . new results results reviewed bound together analysis_key.","code":"results_to_review <- analysistools::analysistools_MSNA_template_with_ratio_results_table$results_table  dataset_to_analyse <- analysistools::analysistools_MSNA_template_data me_loa <- create_loa_from_results(results_to_review)  me_analysis <- create_analysis(srvyr::as_survey(dataset_to_analyse),                                loa = me_loa,                                sm_separator = \"/\") #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■ 47% | ETA: 2s #> ■■■■■■■■■■■■■■■■■■■ 60% | ETA: 1s #> ■■■■■■■■■■■■■■■■■■■■■ 67% | ETA: 1s #> ■■■■■■■■■■■■■■■■■■■■■■■■■ 80% | ETA: 1s #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■ 87% | ETA: 0s #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 93% | ETA: 0s binded_results <- results_to_review %>%   dplyr::full_join(me_analysis$results_table, by =\"analysis_key\") review_results <- review_analysis(binded_results,                                     stat_columns_to_review = c(\"stat.x\", \"stat_low.x\", \"stat_upp.x\"),                                    stat_columns_to_compare_with = c(\"stat.y\", \"stat_low.y\", \"stat_upp.y\"))  review_results$review_table %>%   dplyr::group_by(stat) %>%   dplyr::summarise(prop_correct = mean(review_check)) #> # A tibble: 3 × 2 #>   stat       prop_correct #>   <chr>             <dbl> #> 1 stat.x                1 #> 2 stat_low.x            1 #> 3 stat_upp.x            1  review_results$review_table %>%   dplyr::group_by(stat, review_comment) %>%   dplyr::tally(sort = T) #> # A tibble: 3 × 3 #> # Groups:   stat [3] #>   stat       review_comment     n #>   <chr>      <glue>         <int> #> 1 stat.x     Same results     147 #> 2 stat_low.x Same results     147 #> 3 stat_upp.x Same results     147  review_results$review_table %>%   dplyr::filter(!review_check) %>%   dplyr::select(analysis_type,analysis_var,group_var) %>%    dplyr::distinct() #> [1] analysis_type analysis_var  group_var     #> <0 rows> (or 0-length row.names) analysis_key_column <-  c(\"mean @/@ income %/% NA @/@ NA %/% NA\",                           \"prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a\",                           \"prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a -/- population %/% displaced\",                           \"prop_select_multiple @/@ source_information %/% relatives @/@ NA %/% NA\") test_analysis_results <- data.frame(   test = c(     \"test equality\",     \"test difference\",     \"test Missing in y\",     \"test Missing in x\"   ),   stat_col.x = c(0, 1, 2, NA),   stat_col.y = c(0, 2, NA, 3),   analysis_key = analysis_key_column ) review_results2 <- review_analysis(test_analysis_results,                 stat_columns_to_review = \"stat_col.x\",                 stat_columns_to_compare_with = \"stat_col.y\") review_results2$review_table %>%   dplyr::group_by(stat) %>%   dplyr::summarise(prop_correct = mean(review_check)) #> # A tibble: 1 × 2 #>   stat       prop_correct #>   <chr>             <dbl> #> 1 stat_col.x         0.25  review_results2$review_table %>%   dplyr::group_by(stat, review_comment) %>%   dplyr::tally(sort = T) #> # A tibble: 4 × 3 #> # Groups:   stat [1] #>   stat       review_comment            n #>   <chr>      <glue>                <int> #> 1 stat_col.x Different results         1 #> 2 stat_col.x Missing in stat_col.x     1 #> 3 stat_col.x Missing in stat_col.y     1 #> 4 stat_col.x Same results              1 review_results2$review_table %>%   dplyr::filter(!review_check) %>%   dplyr::select(review_check, analysis_type,analysis_var,group_var) %>%    dplyr::distinct() #>   review_check        analysis_type       analysis_var               group_var #> 1        FALSE      prop_select_one       water_source                district #> 2        FALSE      prop_select_one       water_source district %/% population #> 3        FALSE prop_select_multiple source_information                      NA"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"converting-the-analysis-index-into-a-table","dir":"","previous_headings":"Example","what":"Converting the analysis index into a table","title":"Tools to perform some analysis on survey data collected with ODK","text":"turn analysis index table can unite analysis grouping variables needed.","code":"resultstable <- data.frame(analysis_index = c(   \"mean @/@ v1 %/% NA @/@ NA %/% NA\",   \"mean @/@ v1 %/% NA @/@ gro %/% A\",   \"mean @/@ v1 %/% NA @/@ gro %/% B\" ))  key_table <- create_analysis_key_table(resultstable, \"analysis_index\") key_table #> # A tibble: 3 × 8 #>   analysis_index   analysis_type analysis_var_1 analysis_var_value_1 group_var_1 #>   <chr>            <chr>         <chr>          <chr>                <chr>       #> 1 mean @/@ v1 %/%… mean          v1             NA                   NA          #> 2 mean @/@ v1 %/%… mean          v1             NA                   gro         #> 3 mean @/@ v1 %/%… mean          v1             NA                   gro         #> # ℹ 3 more variables: group_var_value_1 <chr>, nb_analysis_var <dbl>, #> #   nb_group_var <dbl> unite_variables(key_table) #> # A tibble: 3 × 8 #>   analysis_index         analysis_type analysis_var analysis_var_value group_var #>   <chr>                  <chr>         <chr>        <chr>              <chr>     #> 1 mean @/@ v1 %/% NA @/… mean          v1           NA                 NA        #> 2 mean @/@ v1 %/% NA @/… mean          v1           NA                 gro       #> 3 mean @/@ v1 %/% NA @/… mean          v1           NA                 gro       #> # ℹ 3 more variables: group_var_value <chr>, nb_analysis_var <dbl>, #> #   nb_group_var <dbl>"},{"path":"https://impact-initiatives.github.io/analysistools/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Tools to perform some analysis on survey data collected with ODK","text":"Please note analysistools project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/add_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a weight variable using the sample frame — add_weights","title":"Add a weight variable using the sample frame — add_weights","text":"Add weight variable using sample frame","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/add_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a weight variable using the sample frame — add_weights","text":"","code":"add_weights(   dataset,   sample_data,   strata_column_dataset = NULL,   strata_column_sample = NULL,   population_column = NULL,   weight_column = \"weights\" )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/add_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a weight variable using the sample frame — add_weights","text":"dataset clean dataframe sample_data sample dataframe including poplution numbers strata strata_column_dataset name strata column clean dataframe strata_column_sample name strata column sample dataframe population_column name population column sample dataframe weight_column name added weight column. default \"weights\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/add_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a weight variable using the sample frame — add_weights","text":"clean dataset 1 new column: weight","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/add_weights.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a weight variable using the sample frame — add_weights","text":"","code":"clean_data <- data.frame(   uuid = c(1, 2, 3, 4, 5, 6, 7, 8),   strata = c(     \"strata1\", \"strata2\", \"strata1\",     \"strata2\", \"strata1\", \"strata2\",     \"strata1\", \"strata1\"   ) ) sample <- data.frame(   strata = c(\"strata1\", \"strata2\"),   population = c(30000, 50000) )  clean_data_weighted <- clean_data %>%   add_weights(sample,     strata_column_dataset = \"strata\",     strata_column_sample = \"strata\",     population_column = \"population\"   )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds the analysis key to the results table from a create_analysis_x — adding_analysis_key","title":"Adds the analysis key to the results table from a create_analysis_x — adding_analysis_key","text":"helper avoid repeating select 5 create_analysis_x functions.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds the analysis key to the results table from a create_analysis_x — adding_analysis_key","text":"","code":"adding_analysis_key(results)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds the analysis key to the results table from a create_analysis_x — adding_analysis_key","text":"results results table adding group_var_value section create_analysis_x","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds the analysis key to the results table from a create_analysis_x — adding_analysis_key","text":"results key","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds the analysis key to the results table from a create_analysis_x — adding_analysis_key","text":"","code":"if (FALSE) { adding_analysis_key(results = results) }"},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key_ratio.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds the analysis key to the results table from a create_analysis_ratio — adding_analysis_key_ratio","title":"Adds the analysis key to the results table from a create_analysis_ratio — adding_analysis_key_ratio","text":"helper avoid repeating select create_analysis_ratio functions. differs 2 analysis variables, numerator denominator ratios.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key_ratio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds the analysis key to the results table from a create_analysis_ratio — adding_analysis_key_ratio","text":"","code":"adding_analysis_key_ratio(results)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key_ratio.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds the analysis key to the results table from a create_analysis_ratio — adding_analysis_key_ratio","text":"results results table adding group_var_value section create_analysis_x","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key_ratio.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds the analysis key to the results table from a create_analysis_ratio — adding_analysis_key_ratio","text":"results key","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_analysis_key_ratio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds the analysis key to the results table from a create_analysis_ratio — adding_analysis_key_ratio","text":"","code":"if (FALSE) { adding_analysis_key_ratio(results = results) }"},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_group_var_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds the group_var_value to the results table from a create_analysis_x — adding_group_var_value","title":"Adds the group_var_value to the results table from a create_analysis_x — adding_group_var_value","text":"helper avoid repeating select 5 create_analysis_x functions.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_group_var_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds the group_var_value to the results table from a create_analysis_x — adding_group_var_value","text":"","code":"adding_group_var_value(results, group_var = group_var, grouping_vector)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_group_var_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds the group_var_value to the results table from a create_analysis_x — adding_group_var_value","text":"results results table calculate section create_analysis_x group_var group_var create_analysis_x grouping_vector vector variables used check grouping variable section create_analysis_x function","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_group_var_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds the group_var_value to the results table from a create_analysis_x — adding_group_var_value","text":"dataframe results group_var_value column added","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/adding_group_var_value.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds the group_var_value to the results table from a create_analysis_x — adding_group_var_value","text":"","code":"if (FALSE) { adding_group_var_value(results = results, group_var = group_var, grouping_vector = grouping_c) adding_group_var_value(results = results, group_var = group_var, grouping_vector = across_by) }"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools-package.html","id":null,"dir":"Reference","previous_headings":"","what":"analysistools: Tools to perform some analysis on survey data collected with ODK — analysistools-package","title":"analysistools: Tools to perform some analysis on survey data collected with ODK — analysistools-package","text":"package provides couple wrappers around srvyr tidyverse perform analysis primarly based dataset collected throught ODK format.","code":""},{"path":[]},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"analysistools: Tools to perform some analysis on survey data collected with ODK — analysistools-package","text":"Maintainer: Yann Say yann.say@impact-initiatives.org (ORCID) Authors: Mehedi Khan mh.khan@reach-initiative.org (ORCID)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_choices.html","id":null,"dir":"Reference","previous_headings":"","what":"MSNA template kobo choices (example) — analysistools_MSNA_template_choices","title":"MSNA template kobo choices (example) — analysistools_MSNA_template_choices","text":"MSNA template kobo choices (example)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_choices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MSNA template kobo choices (example) — analysistools_MSNA_template_choices","text":"","code":"analysistools_MSNA_template_choices"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_data.html","id":null,"dir":"Reference","previous_headings":"","what":"MSNA template dataset (example) — analysistools_MSNA_template_data","title":"MSNA template dataset (example) — analysistools_MSNA_template_data","text":"MSNA template dataset (example)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MSNA template dataset (example) — analysistools_MSNA_template_data","text":"","code":"analysistools_MSNA_template_data"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_loa.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of list of analysis — analysistools_MSNA_template_loa","title":"Example of list of analysis — analysistools_MSNA_template_loa","text":"Example list analysis","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_loa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example of list of analysis — analysistools_MSNA_template_loa","text":"","code":"analysistools_MSNA_template_loa"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_loa_with_ratio.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of list of analysis with ratio — analysistools_MSNA_template_loa_with_ratio","title":"Example of list of analysis with ratio — analysistools_MSNA_template_loa_with_ratio","text":"Clean data Sample Frame","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_loa_with_ratio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example of list of analysis with ratio — analysistools_MSNA_template_loa_with_ratio","text":"","code":"analysistools_MSNA_template_loa_with_ratio"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_loa_with_ratio.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Example of list of analysis with ratio — analysistools_MSNA_template_loa_with_ratio","text":"data sets include HH data template","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_loa_with_ratio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example of list of analysis with ratio — analysistools_MSNA_template_loa_with_ratio","text":"","code":"analysistools_MSNA_template_data #> # A tibble: 100 × 449 #>    instance_name enum_gender hoh   respondent_able_to_answer respondent_age #>    <lgl>         <chr>       <chr> <chr>                              <dbl> #>  1 NA            male        no    yes                                   22 #>  2 NA            male        no    no                                    20 #>  3 NA            female      yes   yes                                   20 #>  4 NA            female      no    no                                    20 #>  5 NA            female      no    yes                                   21 #>  6 NA            female      no    no                                    22 #>  7 NA            other       yes   yes                                   18 #>  8 NA            male        yes   no                                    20 #>  9 NA            female      yes   yes                                   22 #> 10 NA            other       no    yes                                   20 #> # ℹ 90 more rows #> # ℹ 444 more variables: respondent_gender <chr>, hoh_age <dbl>, #> #   hoh_gender <chr>, hoh_civil_status <chr>, hoh_civil_status_other <chr>, #> #   admin1 <chr>, admin2 <chr>, admin3 <chr>, admin4 <chr>, cluster_id <chr>, #> #   hh_size <dbl>, parent_instance_name <lgl>, person_id <lgl>, #> #   ind_gender <chr>, ind_age <dbl>, ind_relationship_hoh <chr>, #> #   ind_relationship_hoh_other <chr>, ind_pos <lgl>, hh_number_men <dbl>, …"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_no_ratio_results_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis results example (no ratio) — analysistools_MSNA_template_no_ratio_results_table","title":"Analysis results example (no ratio) — analysistools_MSNA_template_no_ratio_results_table","text":"Analysis results example (ratio)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_no_ratio_results_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis results example (no ratio) — analysistools_MSNA_template_no_ratio_results_table","text":"","code":"analysistools_MSNA_template_no_ratio_results_table"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_survey.html","id":null,"dir":"Reference","previous_headings":"","what":"MSNA template kobo survey (example) — analysistools_MSNA_template_survey","title":"MSNA template kobo survey (example) — analysistools_MSNA_template_survey","text":"MSNA template kobo survey (example)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_survey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MSNA template kobo survey (example) — analysistools_MSNA_template_survey","text":"","code":"analysistools_MSNA_template_survey"},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_with_ratio_results_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis results example (with ratio) — analysistools_MSNA_template_with_ratio_results_table","title":"Analysis results example (with ratio) — analysistools_MSNA_template_with_ratio_results_table","text":"Analysis results example (ratio)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/analysistools_MSNA_template_with_ratio_results_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis results example (with ratio) — analysistools_MSNA_template_with_ratio_results_table","text":"","code":"analysistools_MSNA_template_with_ratio_results_table"},{"path":"https://impact-initiatives.github.io/analysistools/reference/arranging_results_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Select columns in a specific order — arranging_results_columns","title":"Select columns in a specific order — arranging_results_columns","text":"helper avoid repeating select 5 create_analysis_x functions.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/arranging_results_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select columns in a specific order — arranging_results_columns","text":"","code":"arranging_results_columns(results)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/arranging_results_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select columns in a specific order — arranging_results_columns","text":"results results table adding analysis key section create_analysis_x","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/arranging_results_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select columns in a specific order — arranging_results_columns","text":"dataframe columns spefic order","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/arranging_results_columns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Select columns in a specific order — arranging_results_columns","text":"","code":"if (FALSE) { arranging_results_columns(results) }"},{"path":"https://impact-initiatives.github.io/analysistools/reference/char_to_vector.html","id":null,"dir":"Reference","previous_headings":"","what":"Turns a string separated by , into a vector — char_to_vector","title":"Turns a string separated by , into a vector — char_to_vector","text":"helper avoid repeating select 5 create_analysis_x functions.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/char_to_vector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turns a string separated by , into a vector — char_to_vector","text":"","code":"char_to_vector(string)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/char_to_vector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Turns a string separated by , into a vector — char_to_vector","text":"string one length string","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/char_to_vector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Turns a string separated by , into a vector — char_to_vector","text":"string vector","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/char_to_vector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Turns a string separated by , into a vector — char_to_vector","text":"","code":"char_to_vector(\"groupa, groupb, groupc\") #> [1] \"groupa\" \"groupb\" \"groupc\""},{"path":"https://impact-initiatives.github.io/analysistools/reference/check_loa.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to check the list of analysis format — check_loa","title":"Helper to check the list of analysis format — check_loa","text":"Helper check list analysis format","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/check_loa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to check the list of analysis format — check_loa","text":"","code":"check_loa(loa, design)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/check_loa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to check the list of analysis format — check_loa","text":"loa list analysis design Survey design object created srvyr::as_survey as_survey_design","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/check_loa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to check the list of analysis format — check_loa","text":"loa default values added missing error something correct.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/check_loa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper to check the list of analysis format — check_loa","text":"","code":"check_loa(   design = srvyr::as_survey(analysistools_MSNA_template_data),   loa = analysistools_MSNA_template_loa ) #>           analysis_type                       analysis_var group_var level #> 1       prop_select_one                             admin1      <NA>  0.95 #> 2                  mean            income_v1_salaried_work      <NA>  0.95 #> 3                median            income_v1_salaried_work      <NA>  0.95 #> 4                  mean                   expenditure_debt      <NA>  0.95 #> 5                median                   expenditure_debt      <NA>  0.95 #> 6       prop_select_one           wash_drinkingwatersource      <NA>  0.95 #> 7  prop_select_multiple edu_learning_conditions_reasons_v1      <NA>  0.95 #> 8                  mean            income_v1_salaried_work    admin1  0.95 #> 9                median            income_v1_salaried_work    admin1  0.95 #> 10                 mean                   expenditure_debt    admin1  0.95 #> 11               median                   expenditure_debt    admin1  0.95 #> 12      prop_select_one           wash_drinkingwatersource    admin1  0.95 #> 13 prop_select_multiple edu_learning_conditions_reasons_v1    admin1  0.95"},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_analysis_var_variable_is_na.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to correct values to NaN when totals are 0's — correct_nan_analysis_var_variable_is_na","title":"Helper to correct values to NaN when totals are 0's — correct_nan_analysis_var_variable_is_na","text":"Helper correct values NaN totals 0's","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_analysis_var_variable_is_na.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to correct values to NaN when totals are 0's — correct_nan_analysis_var_variable_is_na","text":"","code":"correct_nan_analysis_var_variable_is_na(   results,   stat_columns = c(\"stat\", \"stat_upp\", \"stat_low\", \"n_w_total\", \"n_total\", \"n_w\"),   analysis_var_value_column = \"analysis_var_value\" )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_analysis_var_variable_is_na.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to correct values to NaN when totals are 0's — correct_nan_analysis_var_variable_is_na","text":"results Results corrected stat_columns Columns corrected analysis_var_value_column Analysis variable value checked.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_analysis_var_variable_is_na.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to correct values to NaN when totals are 0's — correct_nan_analysis_var_variable_is_na","text":"results table stats_columns turn NaN analysis_var_value_column missing.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_analysis_var_variable_is_na.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper to correct values to NaN when totals are 0's — correct_nan_analysis_var_variable_is_na","text":"","code":"test_table <- data.frame(   stat = c(NaN, 0, 1),   stat_low = c(NaN, 0, 1),   stat_upp = c(NaN, 0, 1),   n = c(5, 5, 1),   n_total = c(0, 0, 1),   n_w = c(0, 0, 1),   n_w_total = c(0, 0, 1),   analysis_var_value = c(NA, NA, \"hello\") )  correct_nan_analysis_var_variable_is_na(test_table) #>   stat stat_low stat_upp n n_total n_w n_w_total analysis_var_value #> 1  NaN      NaN      NaN 5     NaN NaN       NaN               <NA> #> 2  NaN      NaN      NaN 5     NaN NaN       NaN               <NA> #> 3    1        1        1 1       1   1         1              hello"},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_total_is_0.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to correct values to NaN when totals are 0's — correct_nan_total_is_0","title":"Helper to correct values to NaN when totals are 0's — correct_nan_total_is_0","text":"Helper correct values NaN totals 0's","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_total_is_0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to correct values to NaN when totals are 0's — correct_nan_total_is_0","text":"","code":"correct_nan_total_is_0(   results,   stat_columns = c(\"stat\", \"stat_upp\", \"stat_low\", \"n_w_total\", \"n_total\", \"n_w\"),   total_column = \"n_total\" )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_total_is_0.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to correct values to NaN when totals are 0's — correct_nan_total_is_0","text":"results Results corrected stat_columns Columns corrected total_column Total column used","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_total_is_0.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to correct values to NaN when totals are 0's — correct_nan_total_is_0","text":"results table stats_columns turn NaN total column 0.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/correct_nan_total_is_0.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper to correct values to NaN when totals are 0's — correct_nan_total_is_0","text":"","code":"test_table <- data.frame(   stat = c(NaN, 0, 1),   stat_low = c(NaN, 0, 1),   stat_upp = c(NaN, 0, 1),   n = c(0, 0, 1),   n_total = c(0, 0, 1),   n_w = c(0, 0, 1),   n_w_total = c(0, 0, 1) )  correct_nan_total_is_0(test_table) #>   stat stat_low stat_upp n n_total n_w n_w_total #> 1  NaN      NaN      NaN 0     NaN NaN       NaN #> 2  NaN      NaN      NaN 0     NaN NaN       NaN #> 3    1        1        1 1       1   1         1"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Create analysis from a design — create_analysis","title":"Create analysis from a design — create_analysis","text":"list analysis (loa) provided, analysis run overall dataset, grouping variables set.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create analysis from a design — create_analysis","text":"","code":"create_analysis(design, loa = NULL, group_var = NULL, sm_separator = \".\")"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create analysis from a design — create_analysis","text":"design Survey design object created srvyr::as_survey as_survey_design loa list analysis: Default NULL. provided used create analysis. group_var Default NULL. provided, first create list analysis run analysis. vector. sm_separator Separator choice multiple questions. default \".\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create analysis from a design — create_analysis","text":"list 3 items: results table long format analysis key dataset used list analysis used","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create analysis from a design — create_analysis","text":"loa contains following columns : analysis_type: analysis type perform. moment mean, median, prop_select_one, ratio available. analysis_var: analysis variable used string. group_var: grouping variable string. NA grouping variable. combination grouping variable used together 1 string character separated \",\". .e. c(\"admin1\", \"admin2\") \"admin1, admin2\" different. c(\"admin1\", \"admin2\") : perform analysis grouping admin1, admin2 \"admin1, admin2\" : perform analysis grouping admin1 admin2 level: confidence level used. column exists, .95 used. can also include column level, provided .95 set default. ratios performed, loa include following columns well: analysis_var_numerator analysis_var_denominator numerator_NA_to_0 filter_denominator_0","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create analysis from a design — create_analysis","text":"","code":"create_analysis(   design = srvyr::as_survey(analysistools_MSNA_template_data),   loa = analysistools_MSNA_template_loa,   sm_separator = \"/\" ) #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> $results_table #> # A tibble: 143 × 13 #>    analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>  * <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #>  1 prop_select_… admin1       admin1a            NA        NA               0.31 #>  2 prop_select_… admin1       admin1b            NA        NA               0.27 #>  3 prop_select_… admin1       admin1c            NA        NA               0.42 #>  4 mean          income_v1_s… NA                 NA        NA              20.0  #>  5 median        income_v1_s… NA                 NA        NA              20    #>  6 mean          expenditure… NA                 NA        NA              20.1  #>  7 median        expenditure… NA                 NA        NA              20    #>  8 prop_select_… wash_drinki… borehole_tubewell  NA        NA               0.04 #>  9 prop_select_… wash_drinki… bottled_water      NA        NA               0.08 #> 10 prop_select_… wash_drinki… cart_with_tank_dr… NA        NA               0.05 #> # ℹ 133 more rows #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <dbl>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> #>  #> $dataset #> # A tibble: 100 × 449 #>    instance_name enum_gender hoh   respondent_able_to_answer respondent_age #>    <lgl>         <chr>       <chr> <chr>                              <dbl> #>  1 NA            male        no    yes                                   22 #>  2 NA            male        no    no                                    20 #>  3 NA            female      yes   yes                                   20 #>  4 NA            female      no    no                                    20 #>  5 NA            female      no    yes                                   21 #>  6 NA            female      no    no                                    22 #>  7 NA            other       yes   yes                                   18 #>  8 NA            male        yes   no                                    20 #>  9 NA            female      yes   yes                                   22 #> 10 NA            other       no    yes                                   20 #> # ℹ 90 more rows #> # ℹ 444 more variables: respondent_gender <chr>, hoh_age <dbl>, #> #   hoh_gender <chr>, hoh_civil_status <chr>, hoh_civil_status_other <chr>, #> #   admin1 <chr>, admin2 <chr>, admin3 <chr>, admin4 <chr>, cluster_id <chr>, #> #   hh_size <dbl>, parent_instance_name <lgl>, person_id <lgl>, #> #   ind_gender <chr>, ind_age <dbl>, ind_relationship_hoh <chr>, #> #   ind_relationship_hoh_other <chr>, ind_pos <lgl>, hh_number_men <dbl>, … #>  #> $loa #>           analysis_type                       analysis_var group_var level #> 1       prop_select_one                             admin1      <NA>  0.95 #> 2                  mean            income_v1_salaried_work      <NA>  0.95 #> 3                median            income_v1_salaried_work      <NA>  0.95 #> 4                  mean                   expenditure_debt      <NA>  0.95 #> 5                median                   expenditure_debt      <NA>  0.95 #> 6       prop_select_one           wash_drinkingwatersource      <NA>  0.95 #> 7  prop_select_multiple edu_learning_conditions_reasons_v1      <NA>  0.95 #> 8                  mean            income_v1_salaried_work    admin1  0.95 #> 9                median            income_v1_salaried_work    admin1  0.95 #> 10                 mean                   expenditure_debt    admin1  0.95 #> 11               median                   expenditure_debt    admin1  0.95 #> 12      prop_select_one           wash_drinkingwatersource    admin1  0.95 #> 13 prop_select_multiple edu_learning_conditions_reasons_v1    admin1  0.95 #>  create_analysis(   design = srvyr::as_survey(analysistools_MSNA_template_data),   loa = analysistools_MSNA_template_loa_with_ratio,   sm_separator = \"/\" ) #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> $results_table #> # A tibble: 147 × 13 #>    analysis_type   analysis_var     analysis_var_value group_var group_var_value #>  * <chr>           <chr>            <chr>              <chr>     <chr>           #>  1 prop_select_one admin1           admin1a            NA        NA              #>  2 prop_select_one admin1           admin1b            NA        NA              #>  3 prop_select_one admin1           admin1c            NA        NA              #>  4 mean            income_v1_salar… NA                 NA        NA              #>  5 median          income_v1_salar… NA                 NA        NA              #>  6 mean            expenditure_debt NA                 NA        NA              #>  7 median          expenditure_debt NA                 NA        NA              #>  8 ratio           income_v1_salar… NA %/% NA          NA        NA              #>  9 prop_select_one wash_drinkingwa… borehole_tubewell  NA        NA              #> 10 prop_select_one wash_drinkingwa… bottled_water      NA        NA              #> # ℹ 137 more rows #> # ℹ 8 more variables: stat <dbl>, stat_low <dbl>, stat_upp <dbl>, n <dbl>, #> #   n_total <dbl>, n_w <dbl>, n_w_total <dbl>, analysis_key <chr> #>  #> $dataset #> # A tibble: 100 × 449 #>    instance_name enum_gender hoh   respondent_able_to_answer respondent_age #>    <lgl>         <chr>       <chr> <chr>                              <dbl> #>  1 NA            male        no    yes                                   22 #>  2 NA            male        no    no                                    20 #>  3 NA            female      yes   yes                                   20 #>  4 NA            female      no    no                                    20 #>  5 NA            female      no    yes                                   21 #>  6 NA            female      no    no                                    22 #>  7 NA            other       yes   yes                                   18 #>  8 NA            male        yes   no                                    20 #>  9 NA            female      yes   yes                                   22 #> 10 NA            other       no    yes                                   20 #> # ℹ 90 more rows #> # ℹ 444 more variables: respondent_gender <chr>, hoh_age <dbl>, #> #   hoh_gender <chr>, hoh_civil_status <chr>, hoh_civil_status_other <chr>, #> #   admin1 <chr>, admin2 <chr>, admin3 <chr>, admin4 <chr>, cluster_id <chr>, #> #   hh_size <dbl>, parent_instance_name <lgl>, person_id <lgl>, #> #   ind_gender <chr>, ind_age <dbl>, ind_relationship_hoh <chr>, #> #   ind_relationship_hoh_other <chr>, ind_pos <lgl>, hh_number_men <dbl>, … #>  #> $loa #>           analysis_type                       analysis_var group_var level #> 1       prop_select_one                             admin1      <NA>  0.95 #> 2                  mean            income_v1_salaried_work      <NA>  0.95 #> 3                median            income_v1_salaried_work      <NA>  0.95 #> 4                  mean                   expenditure_debt      <NA>  0.95 #> 5                median                   expenditure_debt      <NA>  0.95 #> 6                 ratio                               <NA>      <NA>  0.95 #> 7       prop_select_one           wash_drinkingwatersource      <NA>  0.95 #> 8  prop_select_multiple edu_learning_conditions_reasons_v1      <NA>  0.95 #> 9                  mean            income_v1_salaried_work    admin1  0.95 #> 10               median            income_v1_salaried_work    admin1  0.95 #> 11                 mean                   expenditure_debt    admin1  0.95 #> 12               median                   expenditure_debt    admin1  0.95 #> 13                ratio                               <NA>    admin1  0.95 #> 14      prop_select_one           wash_drinkingwatersource    admin1  0.95 #> 15 prop_select_multiple edu_learning_conditions_reasons_v1    admin1  0.95 #>     analysis_var_numerator analysis_var_denominator numerator_NA_to_0 #> 1                     <NA>                     <NA>                NA #> 2                     <NA>                     <NA>                NA #> 3                     <NA>                     <NA>                NA #> 4                     <NA>                     <NA>                NA #> 5                     <NA>                     <NA>                NA #> 6  income_v1_salaried_work         expenditure_debt              TRUE #> 7                     <NA>                     <NA>                NA #> 8                     <NA>                     <NA>                NA #> 9                     <NA>                     <NA>                NA #> 10                    <NA>                     <NA>                NA #> 11                    <NA>                     <NA>                NA #> 12                    <NA>                     <NA>                NA #> 13 income_v1_salaried_work         expenditure_debt              TRUE #> 14                    <NA>                     <NA>                NA #> 15                    <NA>                     <NA>                NA #>    filter_denominator_0 #> 1                    NA #> 2                    NA #> 3                    NA #> 4                    NA #> 5                    NA #> 6                  TRUE #> 7                    NA #> 8                    NA #> 9                    NA #> 10                   NA #> 11                   NA #> 12                   NA #> 13                 TRUE #> 14                   NA #> 15                   NA #>  shorter_df <- analysistools_MSNA_template_data[, c(   \"admin1\",   \"admin2\",   \"expenditure_debt\",   \"wash_drinkingwatersource\" )] create_analysis(   design = srvyr::as_survey(shorter_df),   group_var = \"admin1\" ) #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> Joining with `by = join_by(admin1, admin2)` #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> $results_table #> # A tibble: 87 × 13 #>    analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>  * <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #>  1 prop_select_… admin1       admin1a            NA        NA               0.31 #>  2 prop_select_… admin1       admin1b            NA        NA               0.27 #>  3 prop_select_… admin1       admin1c            NA        NA               0.42 #>  4 prop_select_… admin2       admin2a            NA        NA               0.3  #>  5 prop_select_… admin2       admin2b            NA        NA               0.39 #>  6 prop_select_… admin2       admin2c            NA        NA               0.31 #>  7 mean          expenditure… NA                 NA        NA              20.1  #>  8 median        expenditure… NA                 NA        NA              20    #>  9 prop_select_… wash_drinki… borehole_tubewell  NA        NA               0.04 #> 10 prop_select_… wash_drinki… bottled_water      NA        NA               0.08 #> # ℹ 77 more rows #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> #>  #> $dataset #> # A tibble: 100 × 4 #>    admin1  admin2  expenditure_debt wash_drinkingwatersource #>    <chr>   <chr>              <dbl> <chr>                    #>  1 admin1b admin2a               22 tanker_trucks            #>  2 admin1c admin2b               18 bottled_water            #>  3 admin1c admin2b               18 water_kiosk              #>  4 admin1c admin2b               23 dont_know                #>  5 admin1c admin2a               20 dont_know                #>  6 admin1c admin2b               23 water_kiosk              #>  7 admin1c admin2a               19 dont_know                #>  8 admin1a admin2a               22 bottled_water            #>  9 admin1c admin2c               21 cart_with_tank_drum      #> 10 admin1b admin2b               25 piped_into_compound      #> # ℹ 90 more rows #>  #> $loa #>     analysis_type             analysis_var group_var level #> 1 prop_select_one                   admin1      <NA>  0.95 #> 2 prop_select_one                   admin2      <NA>  0.95 #> 3            mean         expenditure_debt      <NA>  0.95 #> 4          median         expenditure_debt      <NA>  0.95 #> 5 prop_select_one wash_drinkingwatersource      <NA>  0.95 #> 6 prop_select_one                   admin2    admin1  0.95 #> 7            mean         expenditure_debt    admin1  0.95 #> 8          median         expenditure_debt    admin1  0.95 #> 9 prop_select_one wash_drinkingwatersource    admin1  0.95 #>  create_analysis(   design = srvyr::as_survey(shorter_df),   group_var = \"admin1, admin2\" ) #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> Joining with `by = join_by(admin1, admin2, wash_drinkingwatersource)` #> $results_table #> # A tibble: 117 × 13 #>    analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>  * <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #>  1 prop_select_… admin1       admin1a            NA        NA               0.31 #>  2 prop_select_… admin1       admin1b            NA        NA               0.27 #>  3 prop_select_… admin1       admin1c            NA        NA               0.42 #>  4 prop_select_… admin2       admin2a            NA        NA               0.3  #>  5 prop_select_… admin2       admin2b            NA        NA               0.39 #>  6 prop_select_… admin2       admin2c            NA        NA               0.31 #>  7 mean          expenditure… NA                 NA        NA              20.1  #>  8 median        expenditure… NA                 NA        NA              20    #>  9 prop_select_… wash_drinki… borehole_tubewell  NA        NA               0.04 #> 10 prop_select_… wash_drinki… bottled_water      NA        NA               0.08 #> # ℹ 107 more rows #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> #>  #> $dataset #> # A tibble: 100 × 4 #>    admin1  admin2  expenditure_debt wash_drinkingwatersource #>    <chr>   <chr>              <dbl> <chr>                    #>  1 admin1b admin2a               22 tanker_trucks            #>  2 admin1c admin2b               18 bottled_water            #>  3 admin1c admin2b               18 water_kiosk              #>  4 admin1c admin2b               23 dont_know                #>  5 admin1c admin2a               20 dont_know                #>  6 admin1c admin2b               23 water_kiosk              #>  7 admin1c admin2a               19 dont_know                #>  8 admin1a admin2a               22 bottled_water            #>  9 admin1c admin2c               21 cart_with_tank_drum      #> 10 admin1b admin2b               25 piped_into_compound      #> # ℹ 90 more rows #>  #> $loa #>     analysis_type             analysis_var      group_var level #> 1 prop_select_one                   admin1           <NA>  0.95 #> 2 prop_select_one                   admin2           <NA>  0.95 #> 3            mean         expenditure_debt           <NA>  0.95 #> 4          median         expenditure_debt           <NA>  0.95 #> 5 prop_select_one wash_drinkingwatersource           <NA>  0.95 #> 6            mean         expenditure_debt admin1, admin2  0.95 #> 7          median         expenditure_debt admin1, admin2  0.95 #> 8 prop_select_one wash_drinkingwatersource admin1, admin2  0.95 #>  create_analysis(   design = srvyr::as_survey(shorter_df),   group_var = c(\"admin1\", \"admin2\") ) #> Joining with `by = join_by(type)` #> Joining with `by = join_by(admin1)` #> Joining with `by = join_by(admin2)` #> Joining with `by = join_by(wash_drinkingwatersource)` #> Joining with `by = join_by(admin1, admin2)` #> Joining with `by = join_by(admin1, wash_drinkingwatersource)` #> Joining with `by = join_by(admin2, admin1)` #> Joining with `by = join_by(admin2, wash_drinkingwatersource)` #> $results_table #> # A tibble: 145 × 13 #>    analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>  * <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #>  1 prop_select_… admin1       admin1a            NA        NA               0.31 #>  2 prop_select_… admin1       admin1b            NA        NA               0.27 #>  3 prop_select_… admin1       admin1c            NA        NA               0.42 #>  4 prop_select_… admin2       admin2a            NA        NA               0.3  #>  5 prop_select_… admin2       admin2b            NA        NA               0.39 #>  6 prop_select_… admin2       admin2c            NA        NA               0.31 #>  7 mean          expenditure… NA                 NA        NA              20.1  #>  8 median        expenditure… NA                 NA        NA              20    #>  9 prop_select_… wash_drinki… borehole_tubewell  NA        NA               0.04 #> 10 prop_select_… wash_drinki… bottled_water      NA        NA               0.08 #> # ℹ 135 more rows #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> #>  #> $dataset #> # A tibble: 100 × 4 #>    admin1  admin2  expenditure_debt wash_drinkingwatersource #>    <chr>   <chr>              <dbl> <chr>                    #>  1 admin1b admin2a               22 tanker_trucks            #>  2 admin1c admin2b               18 bottled_water            #>  3 admin1c admin2b               18 water_kiosk              #>  4 admin1c admin2b               23 dont_know                #>  5 admin1c admin2a               20 dont_know                #>  6 admin1c admin2b               23 water_kiosk              #>  7 admin1c admin2a               19 dont_know                #>  8 admin1a admin2a               22 bottled_water            #>  9 admin1c admin2c               21 cart_with_tank_drum      #> 10 admin1b admin2b               25 piped_into_compound      #> # ℹ 90 more rows #>  #> $loa #>      analysis_type             analysis_var group_var level #> 1  prop_select_one                   admin1      <NA>  0.95 #> 2  prop_select_one                   admin2      <NA>  0.95 #> 3             mean         expenditure_debt      <NA>  0.95 #> 4           median         expenditure_debt      <NA>  0.95 #> 5  prop_select_one wash_drinkingwatersource      <NA>  0.95 #> 6  prop_select_one                   admin2    admin1  0.95 #> 7             mean         expenditure_debt    admin1  0.95 #> 8           median         expenditure_debt    admin1  0.95 #> 9  prop_select_one wash_drinkingwatersource    admin1  0.95 #> 10 prop_select_one                   admin1    admin2  0.95 #> 11            mean         expenditure_debt    admin2  0.95 #> 12          median         expenditure_debt    admin2  0.95 #> 13 prop_select_one wash_drinkingwatersource    admin2  0.95 #>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_key_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a table from the analysis_key and results object — create_analysis_key_table","title":"Create a table from the analysis_key and results object — create_analysis_key_table","text":"Helper function turn analysis_key table. return dataframe analysis_var_x, analysis_var_value_x, group_var_x, group_var_value_x, nb_analysis_var, nb_group_var: YY_var_x variable names dependent independent variables. YY_var_value_x values dependent independent variables. x number variable order grouping. nb_xx number variable used grouping.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_key_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a table from the analysis_key and results object — create_analysis_key_table","text":"","code":"create_analysis_key_table(results_table, analysis_key_column = \"analysis_key\")"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_key_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a table from the analysis_key and results object — create_analysis_key_table","text":"results_table result object analysis key analysis_key_column character vector name analysis key column. Default \"analysis key\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_key_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a table from the analysis_key and results object — create_analysis_key_table","text":"dataframe analysis key analysis_var_x, analysis_var_value_x, group_var_x, group_var_value_x, nb_analysis_var nb_group_var","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_key_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a table from the analysis_key and results object — create_analysis_key_table","text":"","code":"create_analysis_key_table(analysistools_MSNA_template_with_ratio_results_table$results_table) #> # A tibble: 147 × 10 #>    analysis_key analysis_type analysis_var_1 analysis_var_value_1 analysis_var_2 #>    <chr>        <chr>         <chr>          <chr>                <chr>          #>  1 prop_select… prop_select_… admin1         admin1a              NA             #>  2 prop_select… prop_select_… admin1         admin1b              NA             #>  3 prop_select… prop_select_… admin1         admin1c              NA             #>  4 mean @/@ in… mean          income_v1_sal… NA                   NA             #>  5 median @/@ … median        income_v1_sal… NA                   NA             #>  6 mean @/@ ex… mean          expenditure_d… NA                   NA             #>  7 median @/@ … median        expenditure_d… NA                   NA             #>  8 ratio @/@ i… ratio         income_v1_sal… NA                   expenditure_d… #>  9 prop_select… prop_select_… wash_drinking… borehole_tubewell    NA             #> 10 prop_select… prop_select_… wash_drinking… bottled_water        NA             #> # ℹ 137 more rows #> # ℹ 5 more variables: analysis_var_value_2 <chr>, group_var_1 <chr>, #> #   group_var_value_1 <chr>, nb_analysis_var <dbl>, nb_group_var <dbl>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a mean from a survey — create_analysis_mean","title":"Calculate a mean from a survey — create_analysis_mean","text":"Calculate mean survey","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a mean from a survey — create_analysis_mean","text":"","code":"create_analysis_mean(design, group_var = NA, analysis_var, level = 0.95)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a mean from a survey — create_analysis_mean","text":"design design survey group_var dependent variable(s), variable group . dependent variable, NA empty string. one variable, one string variable separated comma, e.g. \"groupa, groupb\" group groupa groupb. NA default grouping. analysis_var independent variable, variable summarise level confidence level. 0.95 default","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate a mean from a survey — create_analysis_mean","text":"data frame mean group","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_mean.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate a mean from a survey — create_analysis_mean","text":"","code":"somedata <- data.frame(   aa = 1:10,   bb = rep(c(\"a\", \"b\"), 5),   weights = rep(c(.5, 1.5), 5) ) me_design <- srvyr::as_survey(somedata) create_analysis_mean(me_design, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           NA                 NA        NA                5.5 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_mean(me_design, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           NA                 bb        a                   5 #> 2 mean          aa           NA                 bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>  me_design_w <- srvyr::as_survey(somedata, weights = weights) create_analysis_mean(me_design_w, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           NA                 NA        NA               5.75 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_mean(me_design_w, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 mean          aa           NA                 bb        a                   5 #> 2 mean          aa           NA                 bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_median.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a median from a survey — create_analysis_median","title":"Calculate a median from a survey — create_analysis_median","text":"Calculate median survey","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_median.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a median from a survey — create_analysis_median","text":"","code":"create_analysis_median(design, group_var = NA, analysis_var, level = 0.95)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_median.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a median from a survey — create_analysis_median","text":"design design survey group_var dependent variable(s), variable group . dependent variable, NA empty string. one variable, one string variable separated comma, e.g. \"groupa, groupb\" group groupa groupb. NA default grouping. analysis_var independent variable, variable summarise level confidence level. 0.95 default","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_median.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate a median from a survey — create_analysis_median","text":"data frame median group","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_median.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Calculate a median from a survey — create_analysis_median","text":"results may differ median(). lots ways calculate median default calculation stats::median survey::svyquantile/srvyr::survey_median different. Default survey/srvyr \"school\" methodology exist stats package. default stats \"hf7\". survey/srvyr methodology prefered packages built complex survey design.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_median.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate a median from a survey — create_analysis_median","text":"","code":"somedata <- data.frame(   aa = 1:10,   bb = rep(c(\"a\", \"b\"), 5),   weights = rep(c(.5, 1.5), 5) ) me_design <- srvyr::as_survey(somedata) create_analysis_median(me_design, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           NA                 NA        NA                  5 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_median(me_design, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           NA                 bb        a                   5 #> 2 median        aa           NA                 bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>  me_design_w <- srvyr::as_survey(somedata, weights = weights) create_analysis_median(me_design_w, analysis_var = \"aa\") #> # A tibble: 1 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           NA                 NA        NA                  6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_median(me_design_w, group_var = \"bb\", analysis_var = \"aa\") #> # A tibble: 2 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 median        aa           NA                 bb        a                   5 #> 2 median        aa           NA                 bb        b                   6 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_multiple.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate proportion from a survey design — create_analysis_prop_select_multiple","title":"Calculate proportion from a survey design — create_analysis_prop_select_multiple","text":"Calculate proportion survey design","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_multiple.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate proportion from a survey design — create_analysis_prop_select_multiple","text":"","code":"create_analysis_prop_select_multiple(   design,   group_var = NA,   analysis_var,   level = 0.95,   sm_separator = \".\" )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_multiple.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate proportion from a survey design — create_analysis_prop_select_multiple","text":"design design survey group_var dependent variable(s), variable group . dependent variable, NA empty string. one variable, one string variable separated comma, e.g. \"groupa, groupb\" group groupa groupb. NA default grouping. analysis_var independent variable, variable summarise. parent select multiple level confidence level. 0.95 default sm_separator Select multiple separator. Default \".\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_multiple.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate proportion from a survey design — create_analysis_prop_select_multiple","text":"data frame proportion group analysis index.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_multiple.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate proportion from a survey design — create_analysis_prop_select_multiple","text":"","code":"somedata <- data.frame(   groups = sample(c(\"group_a\", \"group_b\"), size = 100, replace = TRUE),   smvar = rep(NA_character_, 100),   smvar.option1 = sample(c(TRUE, FALSE), size = 100, replace = TRUE, prob = c(.7, .3)),   smvar.option2 = sample(c(TRUE, FALSE), size = 100, replace = TRUE, prob = c(.6, .4)),   smvar.option3 = sample(c(TRUE, FALSE), size = 100, replace = TRUE, prob = c(.1, .9)),   smvar.option4 = sample(c(TRUE, FALSE), size = 100, replace = TRUE, prob = c(.8, .2)),   uuid = 1:100 %>% as.character() ) %>%   cleaningtools::recreate_parent_column(uuid = \"uuid\", sm_separator = \".\") #> groups #> smvar #> smvar.option1 #> smvar.option2 #> smvar.option3 #> smvar.option4 #> groups #> smvar.option1 #> smvar.option2 #> smvar.option3 #> smvar.option4 #> groups #> smvar #> smvar.option1 #> smvar.option2 #> smvar.option3 #> smvar.option4  somedata <- somedata$data_with_fix_concat  create_analysis_prop_select_multiple(srvyr::as_survey(somedata),   group_var = NA,   analysis_var = \"smvar\",   level = 0.95 ) #> # A tibble: 5 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value   stat #>   <chr>         <chr>        <chr>              <chr>     <chr>            <dbl> #> 1 prop_select_… smvar        option1            NA        NA               0.625 #> 2 prop_select_… smvar        option2            NA        NA               0.562 #> 3 prop_select_… smvar        option3            NA        NA               0.115 #> 4 prop_select_… smvar        option4            NA        NA               0.854 #> 5 prop_select_… smvar        NA                 NA        NA              NA     #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <dbl>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>  create_analysis_prop_select_multiple(srvyr::as_survey(somedata),   group_var = \"groups\",   analysis_var = \"smvar\",   level = 0.95 ) #> # A tibble: 10 × 13 #>    analysis_type       analysis_var analysis_var_value group_var group_var_value #>    <chr>               <chr>        <chr>              <chr>     <chr>           #>  1 prop_select_multip… smvar        option1            groups    group_a         #>  2 prop_select_multip… smvar        option2            groups    group_a         #>  3 prop_select_multip… smvar        option3            groups    group_a         #>  4 prop_select_multip… smvar        option4            groups    group_a         #>  5 prop_select_multip… smvar        NA                 groups    group_a         #>  6 prop_select_multip… smvar        option1            groups    group_b         #>  7 prop_select_multip… smvar        option2            groups    group_b         #>  8 prop_select_multip… smvar        option3            groups    group_b         #>  9 prop_select_multip… smvar        option4            groups    group_b         #> 10 prop_select_multip… smvar        NA                 groups    group_b         #> # ℹ 8 more variables: stat <dbl>, stat_low <dbl>, stat_upp <dbl>, n <dbl>, #> #   n_total <dbl>, n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_one.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate proportion from a survey — create_analysis_prop_select_one","title":"Calculate proportion from a survey — create_analysis_prop_select_one","text":"Calculate proportion survey","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_one.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate proportion from a survey — create_analysis_prop_select_one","text":"","code":"create_analysis_prop_select_one(   design,   group_var = NA,   analysis_var,   level = 0.95 )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_one.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate proportion from a survey — create_analysis_prop_select_one","text":"design design survey group_var dependent variable(s), variable group . dependent variable, NA empty string. one variable, one string variable separated comma, e.g. \"groupa, groupb\" group groupa groupb. NA default grouping. analysis_var independent variable, variable summarise level confidence level. 0.95 default","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_one.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate proportion from a survey — create_analysis_prop_select_one","text":"data frame proportion group th analysis index.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_prop_select_one.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate proportion from a survey — create_analysis_prop_select_one","text":"","code":"somedata <- data.frame(   groups = sample(c(\"group_a\", \"group_b\"),     size = 100,     replace = TRUE   ),   value = sample(c(\"a\", \"b\", \"c\"),     size = 100, replace = TRUE,     prob = c(.6, .4, .1)   ) ) create_analysis_prop_select_one(srvyr::as_survey(somedata, strata = groups),   group_var = NA,   analysis_var = \"value\",   level = .95 ) #> Joining with `by = join_by(value)` #> # A tibble: 3 × 13 #>   analysis_type  analysis_var analysis_var_value group_var group_var_value  stat #>   <chr>          <chr>        <chr>              <chr>     <chr>           <dbl> #> 1 prop_select_o… value        a                  NA        NA               0.47 #> 2 prop_select_o… value        b                  NA        NA               0.44 #> 3 prop_select_o… value        c                  NA        NA               0.09 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_prop_select_one(srvyr::as_survey(somedata, strata = groups),   group_var = \"groups\",   analysis_var = \"value\",   level = .95 ) #> Joining with `by = join_by(groups, value)` #> # A tibble: 6 × 13 #>   analysis_type analysis_var analysis_var_value group_var group_var_value   stat #>   <chr>         <chr>        <chr>              <chr>     <chr>            <dbl> #> 1 prop_select_… value        a                  groups    group_a         0.412  #> 2 prop_select_… value        b                  groups    group_a         0.471  #> 3 prop_select_… value        c                  groups    group_a         0.118  #> 4 prop_select_… value        a                  groups    group_b         0.531  #> 5 prop_select_… value        b                  groups    group_b         0.408  #> 6 prop_select_… value        c                  groups    group_b         0.0612 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_ratio.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a ratio from a survey — create_analysis_ratio","title":"Calculate a ratio from a survey — create_analysis_ratio","text":"function calculate ratio 2 variables, numerator denominator. numerator : default, change NAs 0. numerator_NA_to_0 set FALSE, rows missing values filtered . denominator : rows missing value filtered (changed). addition, default, rows value equal 0 filtered , filter_denominator_0 set TRUE, kept.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_ratio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a ratio from a survey — create_analysis_ratio","text":"","code":"create_analysis_ratio(   design,   group_var = NA,   analysis_var_numerator,   analysis_var_denominator,   numerator_NA_to_0 = TRUE,   filter_denominator_0 = TRUE,   level = 0.95 )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_ratio.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a ratio from a survey — create_analysis_ratio","text":"design design survey group_var dependent variable(s), variable group . dependent variable, NA empty string. one variable, one string variable separated comma, e.g. \"groupa, groupb\" group groupa groupb. NA default grouping. analysis_var_numerator character string numerator column name. analysis_var_denominator character string denominator column name. numerator_NA_to_0 turn NA numerator 0's, default TRUE. filter_denominator_0 remove rows 0's denominator, default TRUE. level confidence level. 0.95 default","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_ratio.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate a ratio from a survey — create_analysis_ratio","text":"data frame ratio group","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_analysis_ratio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate a ratio from a survey — create_analysis_ratio","text":"","code":"school_ex <- data.frame(   hh = c(\"hh1\", \"hh2\", \"hh3\", \"hh4\"),   num_children = c(3, 0, 2, NA),   num_enrolled = c(3, NA, 0, NA),   num_attending = c(1, NA, NA, NA),   group = c(\"a\", \"a\", \"b\", \"b\") ) me_design <- srvyr::as_survey(school_ex) # Default value will give a ratio of 0.2 as there are 1 child out of 5 attending school. # numerator: 1 child from hh1 and 0 from hh3. denominator: 3 from hh1 and 2 from hh3. In the # hh3, the num_attending is NA because there is a skip logic, there cannot be a child attending as # none are enrolled. By default, the function has the argument numerator_NA_to_0 set to TRUE to # turn that NA into a 0. # n and n_total are 2 as 2 households were included in the calculation. hh2 was not included in # the calculation of totals. The argument filter_denominator_0 set to TRUE removes that row. create_analysis_ratio(me_design,                       analysis_var_numerator = \"num_attending\",                       analysis_var_denominator = \"num_children\" ) #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         num_attendin… NA %/% NA          NA        NA                0.2 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> # If numerator_NA_to_0 is set to FALSE, ratio will be 1/3, as hh3 with 2 children and NA for # attending will be removed with the na.rm = T inside the survey_ratio calculation. # n and n_total is 1 as only 1 household was used. create_analysis_ratio(me_design,                       analysis_var_numerator = \"num_attending\",                       analysis_var_denominator = \"num_children\",                       numerator_NA_to_0 = FALSE ) #> Warning: There were 2 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `srvyr::survey_ratio(...)`. #> Caused by warning in `qt()`: #> ! NaNs produced #> ℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning. #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         num_attendin… NA %/% NA          NA        NA              0.333 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> # If filter_denominator_0 is set to FALSE, ratio will be 0.2 as there are 1 child out of 5 # attending school. # The number of household counted, n and n_total, is equal to 3 instead 2. The household with 0 # child is counted in the totals. # (01 + 0 + 0) / (3 + 0 + 2) create_analysis_ratio(me_design,                       analysis_var_numerator = \"num_attending\",                       analysis_var_denominator = \"num_children\",                       filter_denominator_0 = FALSE ) #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         num_attendin… NA %/% NA          NA        NA                0.2 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> # For weights and group: set.seed(8988) somedata <- data.frame(   groups = rep(c(\"a\", \"b\"), 50),   children_518 = sample(0:5, 100, replace = TRUE),   children_enrolled = sample(0:5, 100, replace = TRUE) ) %>%   dplyr::mutate(children_enrolled = ifelse(children_enrolled > children_518,                                            children_518,                                            children_enrolled   )) somedata[[\"weights\"]] <- ifelse(somedata$groups == \"a\", 1.33, .67) create_analysis_ratio(srvyr::as_survey(somedata, weights = weights, strata = groups),                       group_var = NA,                       analysis_var_numerator = \"children_enrolled\",                       analysis_var_denominator = \"children_518\",                       level = 0.95 ) #> # A tibble: 1 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         children_enr… NA %/% NA          NA        NA              0.639 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr> create_analysis_ratio(srvyr::as_survey(somedata, weights = weights, strata = groups),                       group_var = \"groups\",                       analysis_var_numerator = \"children_enrolled\",                       analysis_var_denominator = \"children_518\",                       level = 0.95 ) #> # A tibble: 2 × 13 #>   analysis_type analysis_var  analysis_var_value group_var group_var_value  stat #>   <chr>         <chr>         <chr>              <chr>     <chr>           <dbl> #> 1 ratio         children_enr… NA %/% NA          groups    a               0.670 #> 2 ratio         children_enr… NA %/% NA          groups    b               0.578 #> # ℹ 7 more variables: stat_low <dbl>, stat_upp <dbl>, n <int>, n_total <dbl>, #> #   n_w <dbl>, n_w_total <dbl>, analysis_key <chr>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_group_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to reformat the group_var for the results table — create_group_var","title":"Helper to reformat the group_var for the results table — create_group_var","text":"Helper reformat group_var results table","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_group_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to reformat the group_var for the results table — create_group_var","text":"","code":"create_group_var(group_var)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_group_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to reformat the group_var for the results table — create_group_var","text":"group_var one string variable separated comma, e.g. \"groupa, groupb\" group groupa groupb","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_group_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to reformat the group_var for the results table — create_group_var","text":"group_var separated \" %/% \" instead \",\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_group_var.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper to reformat the group_var for the results table — create_group_var","text":"","code":"create_group_var(\"groupa, groupb\") #> [1] \"groupa %/% groupb\" create_group_var(\"groupa,groupb\") #> [1] \"groupa %/% groupb\" create_group_var(NA) #> [1] NA"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of analysis from design and a grouping variable — create_loa","title":"Create a list of analysis from design and a grouping variable — create_loa","text":"Helper create_analysis. take columns character, logical, double integers.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of analysis from design and a grouping variable — create_loa","text":"","code":"create_loa(design, group_var = NULL, sm_separator = \".\")"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of analysis from design and a grouping variable — create_loa","text":"design Survey design object created srvyr::as_survey as_survey_design group_var grouping variable string. combination grouping variable used together 1 string character separated \",\". .e. c(\"admin1\", \"population\") \"admin1, population\" different: c(\"admin1\", \"population\") : perform analysis grouping admin1, population \"admin1, population\" : perform analysis grouping admin1 admin 2 sm_separator Separator choice multiple questions. default \".\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of analysis from design and a grouping variable — create_loa","text":"list analysis.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of analysis from design and a grouping variable — create_loa","text":"","code":"shorter_df <- analysistools_MSNA_template_data[, c(   \"admin1\",   \"expenditure_debt\",   \"wash_drinkingwatersource\" )]  create_loa(   design = srvyr::as_survey(shorter_df),   group_var = \"admin1\" ) #> Joining with `by = join_by(type)` #>     analysis_type             analysis_var group_var level #> 1 prop_select_one                   admin1      <NA>  0.95 #> 2            mean         expenditure_debt      <NA>  0.95 #> 3          median         expenditure_debt      <NA>  0.95 #> 4 prop_select_one wash_drinkingwatersource      <NA>  0.95 #> 5            mean         expenditure_debt    admin1  0.95 #> 6          median         expenditure_debt    admin1  0.95 #> 7 prop_select_one wash_drinkingwatersource    admin1  0.95"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa_from_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of analysis from a results table — create_loa_from_results","title":"Create a list of analysis from a results table — create_loa_from_results","text":"Create list analysis results table","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa_from_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of analysis from a results table — create_loa_from_results","text":"","code":"create_loa_from_results(results_table, analysis_key_column = \"analysis_key\")"},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa_from_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of analysis from a results table — create_loa_from_results","text":"results_table Results table analysis key analysis_key_column character vector name analysis key column. Default \"analysis key\"","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa_from_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of analysis from a results table — create_loa_from_results","text":"list analysis","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/create_loa_from_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of analysis from a results table — create_loa_from_results","text":"","code":"create_loa_from_results(analysistools_MSNA_template_with_ratio_results_table$results_table) #> # A tibble: 15 × 8 #>    analysis_type        analysis_var      group_var level analysis_var_numerator #>    <chr>                <chr>             <chr>     <dbl> <chr>                  #>  1 prop_select_one      admin1            NA         0.95 NA                     #>  2 mean                 income_v1_salari… NA         0.95 NA                     #>  3 median               income_v1_salari… NA         0.95 NA                     #>  4 mean                 expenditure_debt  NA         0.95 NA                     #>  5 median               expenditure_debt  NA         0.95 NA                     #>  6 ratio                NA                NA         0.95 income_v1_salaried_wo… #>  7 prop_select_one      wash_drinkingwat… NA         0.95 NA                     #>  8 prop_select_multiple edu_learning_con… NA         0.95 NA                     #>  9 mean                 income_v1_salari… admin1     0.95 NA                     #> 10 median               income_v1_salari… admin1     0.95 NA                     #> 11 mean                 expenditure_debt  admin1     0.95 NA                     #> 12 median               expenditure_debt  admin1     0.95 NA                     #> 13 ratio                NA                admin1     0.95 income_v1_salaried_wo… #> 14 prop_select_one      wash_drinkingwat… admin1     0.95 NA                     #> 15 prop_select_multiple edu_learning_con… admin1     0.95 NA                     #> # ℹ 3 more variables: analysis_var_denominator <chr>, numerator_NA_to_0 <lgl>, #> #   filter_denominator_0 <lgl>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://impact-initiatives.github.io/analysistools/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/review_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Review columns comparing it to another set of columns and spots differences — review_analysis","title":"Review columns comparing it to another set of columns and spots differences — review_analysis","text":"Wrapper around addindicators::review_variables specific review analysis.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/review_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Review columns comparing it to another set of columns and spots differences — review_analysis","text":"","code":"review_analysis(   results_table,   stat_columns_to_review = \"stat.x\",   stat_columns_to_compare_with = \"stat.y\",   analysis_key_column = \"analysis_key\",   prefix = \"review\" )"},{"path":"https://impact-initiatives.github.io/analysistools/reference/review_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Review columns comparing it to another set of columns and spots differences — review_analysis","text":"results_table Results table analysis key stat_columns_to_review Vectors columns review (paired columns_to_compare_with). Default \"stat.x\". stat_columns_to_compare_with Vectors columns compare (paired columns_to_review). Default \"stat.y\" analysis_key_column character vector name analysis key column. Default \"analysis key\" prefix Prefix used review comment column. Default \"review\".","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/review_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Review columns comparing it to another set of columns and spots differences — review_analysis","text":"list two objects: result table review comment columns review table","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/review_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Review columns comparing it to another set of columns and spots differences — review_analysis","text":"","code":"analysis_key_column <-  c(\"mean @/@ income %/% NA @/@ NA %/% NA\",                           \"prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a\",                           \"prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a -/- population %/% displaced\",                           \"prop_select_multiple @/@ source_information %/% relatives @/@ NA %/% NA\",                           \"ratio @/@ food_expenses %/% NA -/- total_expenses %/% NA @/@ NA %/% NA\",                           \"prop_select_one @/@ water_source %/% tap_water @/@ population %/% displaced\",                           \"ratio @/@ food_expenses %/% NA -/- total_expenses %/% NA @/@ district %/% district_a\",                           \"prop_select_one @/@ water_source %/% tap_water @/@ population %/% returnees\") test_analysis_results <- data.frame(   test = c(     \"test equality\",     \"test difference\",     \"test Missing in y\",     \"test Missing in x\",     \"test equality rounding in x\",     \"test equality rounding in y\",     \"test difference rounding in x\",     \"test difference rounding in y\"   ),   stat_col.x = c(0, 1, 2, NA, 0.00019, 0.0002, 0.00035, 0.0003),   upp_col.x = c(0, 1, 2, NA, 0.00019, 0.0002, 0.00035, 0.0003),   stat_col.y = c(0, 2, NA, 3, 0.0002, 0.00019, 0.0003, 0.00035),   upp_col.y = c(0, 2, NA, 3, 0.0002, 0.00019, 0.0003, 0.00035),   analysis_key = analysis_key_column )  review_analysis(test_analysis_results,                 stat_columns_to_review = \"stat_col.x\",                 stat_columns_to_compare_with = \"stat_col.y\") #> $results_table #>                            test stat_col.x upp_col.x stat_col.y upp_col.y #> 1                 test equality    0.00000   0.00000    0.00000   0.00000 #> 2               test difference    1.00000   1.00000    2.00000   2.00000 #> 3             test Missing in y    2.00000   2.00000         NA        NA #> 4             test Missing in x         NA        NA    3.00000   3.00000 #> 5   test equality rounding in x    0.00019   0.00019    0.00020   0.00020 #> 6   test equality rounding in y    0.00020   0.00020    0.00019   0.00019 #> 7 test difference rounding in x    0.00035   0.00035    0.00030   0.00030 #> 8 test difference rounding in y    0.00030   0.00030    0.00035   0.00035 #>                                                                                              analysis_key #> 1                                                                    mean @/@ income %/% NA @/@ NA %/% NA #> 2                              prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a #> 3 prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a -/- population %/% displaced #> 4                                 prop_select_multiple @/@ source_information %/% relatives @/@ NA %/% NA #> 5                                  ratio @/@ food_expenses %/% NA -/- total_expenses %/% NA @/@ NA %/% NA #> 6                             prop_select_one @/@ water_source %/% tap_water @/@ population %/% displaced #> 7                    ratio @/@ food_expenses %/% NA -/- total_expenses %/% NA @/@ district %/% district_a #> 8                             prop_select_one @/@ water_source %/% tap_water @/@ population %/% returnees #>   review_check_stat_col.x review_comment_stat_col.x #> 1                    TRUE              Same results #> 2                   FALSE         Different results #> 3                   FALSE     Missing in stat_col.y #> 4                   FALSE     Missing in stat_col.x #> 5                    TRUE              Same results #> 6                    TRUE              Same results #> 7                   FALSE         Different results #> 8                   FALSE         Different results #>  #> $review_table #>                                                                                              analysis_key #> 1                                                                    mean @/@ income %/% NA @/@ NA %/% NA #> 2                              prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a #> 3 prop_select_one @/@ water_source %/% tap_water @/@ district %/% district_a -/- population %/% displaced #> 4                                 prop_select_multiple @/@ source_information %/% relatives @/@ NA %/% NA #> 5                                  ratio @/@ food_expenses %/% NA -/- total_expenses %/% NA @/@ NA %/% NA #> 6                             prop_select_one @/@ water_source %/% tap_water @/@ population %/% displaced #> 7                    ratio @/@ food_expenses %/% NA -/- total_expenses %/% NA @/@ district %/% district_a #> 8                             prop_select_one @/@ water_source %/% tap_water @/@ population %/% returnees #>         stat review_check        review_comment        analysis_type #> 1 stat_col.x         TRUE          Same results                 mean #> 2 stat_col.x        FALSE     Different results      prop_select_one #> 3 stat_col.x        FALSE Missing in stat_col.y      prop_select_one #> 4 stat_col.x        FALSE Missing in stat_col.x prop_select_multiple #> 5 stat_col.x         TRUE          Same results                ratio #> 6 stat_col.x         TRUE          Same results      prop_select_one #> 7 stat_col.x        FALSE     Different results                ratio #> 8 stat_col.x        FALSE     Different results      prop_select_one #>                       analysis_var               group_var #> 1                           income                      NA #> 2                     water_source                district #> 3                     water_source district %/% population #> 4               source_information                      NA #> 5 food_expenses %/% total_expenses                      NA #> 6                     water_source              population #> 7 food_expenses %/% total_expenses                district #> 8                     water_source              population #>"},{"path":"https://impact-initiatives.github.io/analysistools/reference/unite_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Unite variable from the key_table — unite_variables","title":"Unite variable from the key_table — unite_variables","text":"Function unite analysis_var, analysis_var_value, group_var, group_var_value key table resulting create_analysis_key_table.","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/unite_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unite variable from the key_table — unite_variables","text":"","code":"unite_variables(key_table)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/unite_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unite variable from the key_table — unite_variables","text":"key_table key table built create_analysis_key_table","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/unite_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unite variable from the key_table — unite_variables","text":"table analysis_var, analysis_var_value, group_var, group_var_value united %/% separator","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/unite_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unite variable from the key_table — unite_variables","text":"","code":"if (FALSE) { unite_variables(key_table) }"},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_analysis_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to check the format of the analysis key — verify_analysis_key","title":"Helper to check the format of the analysis key — verify_analysis_key","text":"Helper check format analysis key","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_analysis_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to check the format of the analysis key — verify_analysis_key","text":"","code":"verify_analysis_key(analysis_key)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_analysis_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to check the format of the analysis key — verify_analysis_key","text":"analysis_key vector analysis key (name column)","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_analysis_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to check the format of the analysis key — verify_analysis_key","text":"stop function analysis correct format","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_analysis_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper to check the format of the analysis key — verify_analysis_key","text":"","code":"verify_analysis_key(analysistools_MSNA_template_no_ratio_results_table$results_table$analysis_key)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_if_AinB.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks if all values of a vector is in another vector — verify_if_AinB","title":"Checks if all values of a vector is in another vector — verify_if_AinB","text":"Checks values vector another vector","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_if_AinB.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks if all values of a vector is in another vector — verify_if_AinB","text":"","code":"verify_if_AinB(.A, .B, msg_error)"},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_if_AinB.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks if all values of a vector is in another vector — verify_if_AinB","text":".Vector check .B Reference vector msg_error Message error shown value missing","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_if_AinB.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks if all values of a vector is in another vector — verify_if_AinB","text":"error one missing","code":""},{"path":"https://impact-initiatives.github.io/analysistools/reference/verify_if_AinB.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Checks if all values of a vector is in another vector — verify_if_AinB","text":"","code":"if (FALSE) { verify_if_AinB(   c(\"admin1\", \"admin2\"),   c(\"admin1\", \"pop_group\", \"uuid\", \"admin2\"),   \"Cannot identify: \" ) }"}]
